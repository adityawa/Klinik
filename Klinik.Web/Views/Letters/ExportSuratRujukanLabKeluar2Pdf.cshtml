@model Klinik.Entities.Letter.LabReferenceLetterModel

@{
    Layout = null;
}

<body>
    <div>
        <div>

            <div style="text-align:center; width:100%">KLINIK PT RIAU ANDALAN PULP & PAPER</div>

            <div>
                <div style="text-align:center">
                    <label>Town Site :......... /Port - Estate : ............</label>
                </div>
                <div style="text-align:center">
                    <label>No : @ViewBag.NoSurat</label>
                </div>
            </div>
            <br />

            <div style="padding:15px; text-align:center; background-color:gainsboro;border-style:inset">
                <table style="width:50%;margin-left:auto;margin-right:auto">
                    <tr>
                        <td>
                            <label>@Klinik.Resources.UIMessages.Name </label>
                        </td>

                        <td>
                            @Html.DisplayFor(x => x.PatientData.Name, new { @id = "tbPatientName" })
                        </td>
                        <td>
                            <label>@Klinik.Resources.UIMessages.Gender </label>

                        </td>

                        <td>
                            @Html.DisplayFor(x => x.PatientData.Gender, new { @id = "tbGender" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>@Klinik.Resources.UIMessages.SAP </label>
                        </td>
                        <td>
                            @Html.DisplayFor(x => x.PatientData.EmployeeID, new { @id = "tbSAP" })
                        </td>
                        <td>
                            <label>@Klinik.Resources.UIMessages.HPNumber </label>
                        </td>
                        <td>
                            @Html.DisplayFor(x => x.PatientData.HPNumber, new { @id = "tbHP" })
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label>@Klinik.Resources.UIMessages.Birthdate </label>
                        </td>
                        <td>
                            @Html.DisplayFor(x => x.PatientData.BirthDateStr, new { @id = "tbBirthdate" })
                        </td>

                        <td>
                            <label>@Klinik.Resources.UIMessages.DokterPengirim </label>
                        </td>
                        <td>
                            @Html.DisplayFor(x => x.SuratRujukanLabKeluar.DokterPengirim, new { @id = "tbDrPengirim" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>@Klinik.Resources.UIMessages.Age </label>

                        </td>
                        <td>

                            @Html.DisplayFor(x => x.PatientAge, new { @id = "tbUsia" })
                        </td>

                        <td>
                            <label>@Klinik.Resources.UIMessages.MedicalCekDate </label>

                        </td>
                        <td>

                            @Html.DisplayFor(x => x.strCekdate, new { @id = "tbMedCekDate" })
                        </td>
                    </tr>
                </table>
            </div>

        </div>
        <br />
        <table style="width:80%">
            <tr>
                @for (int i = 0; i < Model.LabItems.Count; i++)
                {
                    if (i > 0)
                    {
                        if (Model.LabItems[i].LabItemCategoryID != Model.LabItems[i - 1].LabItemCategoryID)
                        {

                            <td>
                                <table border="1" style="width:50%;">
                                    <tr>
                                        <th></th>
                                        <th>@Model.LabItems[i].LabItemCategoryName</th>
                                    </tr>

                                    @foreach (var child in Model.LabItems.Where(x => x.LabItemCategoryID == Model.LabItems[i].LabItemCategoryID))
                                    {
                                        <tr>
                                            @{
                                                if (child.Code != "")
                                                {
                                                    <td style="text-align:center">v</td>
                                                }
                                                else
                                                {
                                                    <td style="text-align:center"> &nbsp;&nbsp;</td>
                                                }
                                            }


                                            <td>@child.Name</td>
                                        </tr>

                                    }

                                </table>
                            </td>
                        }

                    }

                    else
                    {
                        <td>
                            <table border="1" style="width:50%;">
                                <tr>
                                    <th></th>
                                    <th>@Model.LabItems[i].LabItemCategoryName</th>
                                </tr>

                                @foreach (var child in Model.LabItems.Where(x => x.LabItemCategoryID == Model.LabItems[i].LabItemCategoryID))
                                {
                                    <tr>
                                        <td style="text-align:center">v</td>
                                        <td>@child.Name</td>
                                    </tr>

                                }

                            </table>
                        </td>
                    }
                }

            </tr>
        </table>



    </div>
</body>



<script type="text/javascript">
    $(document).ready(function () {

    });


</script>

